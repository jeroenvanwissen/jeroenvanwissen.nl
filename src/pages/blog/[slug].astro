---
//TODO: Rewrite this one for /blog > /post redirects

import { getSortedPostsByType } from '@lib/util';

export async function getStaticPaths() {
  return (await getSortedPostsByType('post', 'blog')).map((entry: any) => {
    return {
      params: { slug: entry.slug },
      props: { destination: `/post/${entry.slug}` },
    };
  });
}

const { destination } = Astro.props;
---

<!doctype html>
<html>
  <head>
    <meta http-equiv="refresh" content={`0;url=${destination}`} />
  </head>
</html>
